{{template "header.html" args "Events" "default"}}{{$data := .}}{{$times := .BlockTimes}}
		<form action="?" method="post">
			<div id="dates">
				<input type="submit" name="date" value="{{.Date -1}}" />
				{{.Date 0}}
				<input type="submit" name="date" value="{{.Date 1}}" />
			</div>
{{if ne .Event.ID 0}}			<input type="hidden" name="id" value="{{.Event.ID}}" />
{{end}}			<input type="hidden" name="driver" value="{{$data.Event.Driver.ID}}" />
			<input type="hidden" name="start" value="{{.Event.Start.Unix}}" />
			<table>
				<tr>
					<th>Driver</th>
{{range $times}}						<th>{{.Format "15:04"}}</th>
{{end}}					</tr>
{{range $driverNum, $driver := .Drivers}}					<tr>
						<th>{{.Name}}</th>
{{range $times}}{{$event := $data.BlockInfo $driverNum .}}{{if $event.Empty}}						<td>{{if eq $driverNum $data.Event.Driver.ID}}{{if $data.ValidEnd .}}<input type="submit" name="end" value="{{.Unix}}" />{{end}}{{end}}</td>
{{else}}{{$numBlocks := $event.NumBlocks .}}{{if gt $numBlocks 0}}							<td rowspan="{{$numBlocks}}">Event</td>
{{end}}{{end}}{{end}}					</tr>
{{end}}			</table>
		</form>
{{template "footer.html"}}
